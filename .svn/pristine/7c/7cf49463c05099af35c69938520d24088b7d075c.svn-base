webpackJsonp([5],{r9kU:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("GKmE"),o=e("vLgD"),i={getList:function(t){return Object(o.a)({url:"/manage/proxy/list",method:"get",params:t})},delete:function(t){return Object(o.a)({url:"/manage/proxy/del",method:"post",data:{inId:t}})},add:function(t){return Object(o.a)({url:"/manage/proxy/add",method:"post",data:t})},update:function(t){return Object(o.a)({url:"/manage/proxy/update",method:"post",data:t})}},r={name:"proxyIndex",data:function(){return{dialogTitle:null,dialogType:"insert",formLabelWidth:"100px",dialogFormVisible:!1,currentRow:{},dataForm:{id:null,ip:null,proxyport:8080,isp:null,country:null,area:null,city:null,region:null,county:null,state:"1"},formSearch:{ip:null,state:null,pageSize:10,currentPage:1},selectedData:[],tableData:[],totalCount:0,listLoading:!1,delLoading:!1,dialogOKLoading:!1}},computed:{},created:function(){},mounted:function(){this.onSearch()},methods:{tableChange:function(t,a,e){this.currentRow=t,this.$refs.multipleTable.toggleRowSelection(t)},checkBox:function(t){var a=this;t&&t.length>0&&(this.selectedData=[],t.forEach(function(t){a.selectedData.push(t.id)}))},onSearch:function(){var t=this;this.listLoading=!0,i.getList(this.formSearch).then(function(a){t.totalCount=a.totalCount,t.tableData=a.items,t.listLoading=!1}).catch(function(a){t.listLoading=!1})},addData:function(){this.dialogTitle="新增代理IP地址",this.dialogType="insert",this.dialogFormVisible=!0},updateData:function(){if(l.a.isEmpty(this.currentRow))return this.$root.$message.error("请选择您要编辑的代理IP。"),!1;this.dialogTitle="编辑代理IP地址",this.dialogType="update",this.dataForm.id=this.currentRow.id,this.dataForm.ip=this.currentRow.ip,this.dataForm.proxyport=this.currentRow.proxyport,this.dataForm.isp=this.currentRow.isp,this.dataForm.country=this.currentRow.country,this.dataForm.area=this.currentRow.area,this.dataForm.city=this.currentRow.city,this.dataForm.region=this.currentRow.region,this.dataForm.county=this.currentRow.county,this.dataForm.state=this.currentRow.state.toString(),this.dialogFormVisible=!0},deleteData:function(){var t=this;if(this.selectedData.length<=0)return this.$root.$message.error("请选择您要删除的代理IP。"),!1;var a=this;this.delLoading=!0,i.delete(this.selectedData.toString()).then(function(e){t.$root.$message.success(e.message),a.delLoading=!1,t.onSearch()}).catch(function(t){a.delLoading=!1})},handleSizeChange:function(t){this.formSearch.pageSize=t,this.formSearch.currentPage=1,this.onSearch()},handleCurrentChange:function(t){this.formSearch.currentPage=t,this.onSearch()},dialogCancel:function(){this.dialogFormVisible=!1,this.clearForm()},dialogOK:function(){"insert"===this.dialogType&&this.save(),"update"===this.dialogType&&this.update()},clearForm:function(){this.dataForm.id=null,this.dataForm.ip=null,this.dataForm.proxyport=8080,this.dataForm.isp=null,this.dataForm.country=null,this.dataForm.area=null,this.dataForm.city=null,this.dataForm.region=null,this.dataForm.county=null,this.dataForm.state="1"},save:function(){var t=this;this.dialogOKLoading=!0,i.add(this.dataForm).then(function(a){t.$root.$message.success(a.message),t.dialogOKLoading=!1,t.dialogFormVisible=!1,t.clearForm(),t.onSearch()}).catch(function(a){t.dialogOKLoading=!1})},update:function(){var t=this;this.dialogOKLoading=!0,i.update(this.dataForm).then(function(a){t.$root.$message.success(a.message),t.dialogOKLoading=!1,t.dialogFormVisible=!1,t.clearForm(),t.onSearch()}).catch(function(a){t.dialogOKLoading=!1})}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"form-context"},[e("el-form",{attrs:{inline:!0,model:t.formSearch}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入搜索代理IP"},model:{value:t.formSearch.ip,callback:function(a){t.$set(t.formSearch,"ip",a)},expression:"formSearch.ip"}})],1),t._v(" "),e("el-form-item",[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"选择状态"},model:{value:t.formSearch.state,callback:function(a){t.$set(t.formSearch,"state",a)},expression:"formSearch.state"}},[e("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),e("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.listLoading},on:{click:t.onSearch}},[t._v("搜索")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addData}},[t._v("新增")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.updateData}},[t._v("编辑")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",loading:t.delLoading},on:{click:t.deleteData}},[t._v("删除")])],1)],1)],1),t._v(" "),e("div",{staticClass:"data-context"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","element-loading-text":"Loading","element-loading-background":"rgba(0, 0, 0, 0.7)","header-cell-style":{background:"#f8f8f9"},"highlight-current-row":""},on:{"selection-change":t.checkBox,"row-click":t.tableChange}},[e("el-table-column",{attrs:{type:"selection",prop:"id",width:"37","max-width":"37"}}),t._v(" "),e("el-table-column",{attrs:{prop:"ip",label:"代理IP",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"proxyport",label:"端口",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"isp",label:"ISP运营商",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"country",label:"国家",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"area",label:"所属省",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"city",label:"所属市",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"region",label:"所属区",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"county",label:"所属县",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"state",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.state?e("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("无效")]):t._e(),t._v(" "),1==a.row.state?e("el-button",{attrs:{size:"mini",type:"success"}},[t._v("正常")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"createtime",label:"创建日期"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n\t    \t   \t\t\t"+t._s(t._f("dateFormat")(a.row.createtime,"yyyy-MM-dd hh:mm:ss"))+"\n\t    \t   \t\t")]}}])})],1)],1),t._v(" "),t.totalCount>t.formSearch.pageSize?e("div",{staticClass:"page-context clearfix"},[e("div",{staticClass:"page-context-right"},[e("el-pagination",{attrs:{"current-page":t.formSearch.currentPage,"page-sizes":[10,20,30,40,50],"page-size":t.formSearch.pageSize,layout:"total, sizes, prev, pager, next",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"dialog-context"},[e("el-dialog",{attrs:{title:t.dialogTitle,width:"30%",visible:t.dialogFormVisible},on:{"update:visible":function(a){t.dialogFormVisible=a},close:t.dialogCancel}},[e("el-form",{attrs:{model:t.dataForm}},[e("el-form-item",{attrs:{label:"代理IP","label-width":t.formLabelWidth}},[e("el-col",{attrs:{span:11}},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请输入代理IP地址"},model:{value:t.dataForm.ip,callback:function(a){t.$set(t.dataForm,"ip",a)},expression:"dataForm.ip"}})],1),t._v(" "),e("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),e("el-col",{attrs:{span:7}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1,min:80,max:65535},model:{value:t.dataForm.proxyport,callback:function(a){t.$set(t.dataForm,"proxyport",a)},expression:"dataForm.proxyport"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"运营商","label-width":t.formLabelWidth}},[e("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请输入网络运营商例如”电信“"},model:{value:t.dataForm.isp,callback:function(a){t.$set(t.dataForm,"isp",a)},expression:"dataForm.isp"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"国家","label-width":t.formLabelWidth}},[e("el-col",{attrs:{span:11}},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请输入国家例如”韩国“"},model:{value:t.dataForm.country,callback:function(a){t.$set(t.dataForm,"country",a)},expression:"dataForm.country"}})],1),t._v(" "),e("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),e("el-col",{attrs:{span:7}},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请输入省份"},model:{value:t.dataForm.area,callback:function(a){t.$set(t.dataForm,"area",a)},expression:"dataForm.area"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"市区","label-width":t.formLabelWidth}},[e("el-col",{attrs:{span:11}},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请输入市例如”首尔市“"},model:{value:t.dataForm.city,callback:function(a){t.$set(t.dataForm,"city",a)},expression:"dataForm.city"}})],1),t._v(" "),e("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),e("el-col",{attrs:{span:7}},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请输入区域例如”龙山区“"},model:{value:t.dataForm.region,callback:function(a){t.$set(t.dataForm,"region",a)},expression:"dataForm.region"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"所属县","label-width":t.formLabelWidth}},[e("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请输入县"},model:{value:t.dataForm.county,callback:function(a){t.$set(t.dataForm,"county",a)},expression:"dataForm.county"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"IP状态","label-width":t.formLabelWidth}},[e("el-select",{staticStyle:{width:"260px"},attrs:{placeholder:"请选择状态"},model:{value:t.dataForm.state,callback:function(a){t.$set(t.dataForm,"state",a)},expression:"dataForm.state"}},[e("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),e("el-option",{attrs:{label:"无效",value:"0"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.dialogCancel}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.dialogOKLoading},on:{click:t.dialogOK}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},s=e("VU/8")(r,n,!1,null,null,null);a.default=s.exports}});