webpackJsonp([8],{"6J9a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("//Fk"),o=a.n(n),l=(a("GKmE"),a("vLgD")),r={getList:function(t){return Object(l.a)({url:"/manage/detect/list",method:"get",params:t})},getDetect:function(t){return Object(l.a)({url:"/manage/detect/request",method:"get",params:t})}},i={name:"domainDetect",data:function(){return{formDetect:{httpurl:null},tableData:[],listLoading:!1,readonly:!1,isShow:!1,detectLoading:!1}},computed:{},created:function(){},mounted:function(){},methods:{doDetect:function(){var t=this;this.detectLoading=!0,r.getList(this.formDetect).then(function(e){t.totalCount=e.totalCount,t.tableData=e.items,t.isShow=!0,t.readonly=!0,t.getAll(e.items)}).catch(function(e){t.detectLoading=!1})},request:function(t){var e=this;return new o.a(function(a,n){r.getDetect({id:t.id,domain:e.formDetect.httpurl}).then(function(e){t.connCost=e.connCost,t.httpCode=e.httpCode,t.header=e.header,t.region=e.region,a(t)}).catch(function(e){a(t)})})},getAll:function(t){var e=this,a=[];return t.forEach(function(t){a.push(e.request(t))}),o.a.all(a).then(function(t){e.tableData=t,e.detectLoading=!1,e.readonly=!1},function(t){e.detectLoading=!0,e.readonly=!1})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"form-context"},[a("el-form",{attrs:{inline:!0,model:t.formDetect}},[a("el-form-item",[a("el-input",{staticStyle:{width:"520px"},attrs:{placeholder:"请输入需要监测的网址",readonly:t.readonly},model:{value:t.formDetect.httpurl,callback:function(e){t.$set(t.formDetect,"httpurl",e)},expression:"formDetect.httpurl"}},[a("template",{slot:"prepend"},[t._v("http://")])],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.detectLoading},on:{click:t.doDetect}},[t._v("域名检测")])],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"data-context"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","element-loading-text":"Loading","element-loading-background":"rgba(0, 0, 0, 0.7)","header-cell-style":{background:"#f8f8f9"},"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"65"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"监测点",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isp",label:"ISP",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"country",label:"国家",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"area",label:"省份",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"region",label:"地区",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"connCost",label:"连接时间",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"httpCode",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.httpCode?[200!=e.row.httpCode?a("el-tag",{attrs:{size:"medium",type:"danger"}},[t._v(t._s(e.row.httpCode))]):a("el-tag",{attrs:{size:"medium",type:"success"}},[t._v(t._s(e.row.httpCode))])]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"header",label:"请求头"}})],1)],1)])},staticRenderFns:[]},d=a("VU/8")(i,c,!1,null,null,null);e.default=d.exports}});